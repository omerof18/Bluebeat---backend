(function(e){function t(t){for(var r,i,o=t[0],c=t[1],u=t[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"15f0":function(e,t,n){"use strict";n("9760")},"18a2":function(e,t,n){e.exports=n.p+"img/beatLogo.0ce30fab.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("beatHeader"),n("router-view")],1)},a=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("div",{staticClass:"flex justify-center align-center space-between"},[r("img",{staticClass:"beat-logo icon",attrs:{src:n("18a2")},on:{click:e.backHome}}),r("form",{on:{keyup:e.searchBeat}},[r("el-input",{staticClass:"header-search",attrs:{type:"text",placeholder:"Search a beat","prefix-icon":"el-icon-search"},model:{value:e.beatToSearch,callback:function(t){e.beatToSearch=t},expression:"beatToSearch"}})],1),r("div",{staticClass:"flex row"},[r("div",{staticClass:"flex justify-center align-center"},[r("router-link",{staticClass:"header-btn",attrs:{to:"/beat"}},[e._v("Beats")]),r("span",{staticClass:"divider"},[e._v("|")]),r("router-link",{staticClass:"header-btn",attrs:{to:"/beat/add"}},[e._v("Create Beat")])],1),r("div",{staticClass:"user-profile-btn icon fas fa-user-circle flex col justify-center align-center",on:{click:e.toggelMenu}})])]),r("ul",{class:{menuOpen:e.isMenuOpen,userNav:!e.isMenuOpen}},[r("li",{staticClass:"login-link",attrs:{to:"/login"},on:{click:e.login}},[e._v("Login")]),r("li",{staticClass:"login-link",attrs:{to:"/login"},on:{click:e.signup}},[e._v("Signup")]),r("li",{staticClass:"login-link",attrs:{to:"/"},on:{click:e.logout}},[e._v("Logout")])])])},o=[],c={name:"beatHeader",data:function(){return{genre:"",beatToSearch:"",isMenuOpen:!1}},computed:{isLoggedIn:function(e){return e.getters.loggedinUser}},methods:{toggelMenu:function(){this.isMenuOpen=!this.isMenuOpen},login:function(){this.$store.dispatch({type:"logUser",registeredUser:!0}),this.isMenuOpen=!this.isMenuOpen,this.$router.push("/login")},signup:function(){this.$store.dispatch({type:"signUser",registeredUser:!1}),this.isMenuOpen=!this.isMenuOpen,this.$router.push("/login")},logout:function(){this.$store.dispatch({type:"logout"}),this.$router.push("/")},backHome:function(){this.$router.push("/")},searchBeat:function(){this.$store.dispatch({type:"setTxtFilter",txt:this.beatToSearch}),this.$router.push("/beat")}}},u=c,l=n("2877"),p=Object(l["a"])(u,i,o,!1,null,null,null),d=p.exports,g={components:{beatHeader:d},created:function(){this.$store.dispatch({type:"loadBeats"})}},f=g,m=Object(l["a"])(f,s,a,!1,null,null,null),h=m.exports,v=n("9483");Object(v["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var b=n("8c4f"),y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"home"},[r("div",{staticClass:"hero-container"},[r("img",{staticClass:"beat-hero",attrs:{src:n("da94")}}),e._m(0),r("a",{staticClass:"scroll-down",attrs:{href:"/"},on:{click:function(t){return t.preventDefault(),e.smoothScroll("homeList",1e3)}}},[r("span")])]),e.beats?r("section",{staticClass:"home-list",attrs:{id:"homeList"}},e._l(e.genres,(function(t){return r("beat-home-list",{key:t,staticClass:"main-layout",attrs:{genre:t,beats:e.beats},on:{filter:e.dispatchFilter}})})),1):e._e()])},w=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"marketing "},[n("h1",[e._v("PARTY WITH REAL BEATS")]),n("h3",[e._v("Listen to music with friends. No matter where they're at.")])])}],C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.beats?n("section",{},[n("div",{staticClass:"list-header flex space-between align-baseline"},[n("h2",{staticClass:"list-genre"},[e._v(e._s(e.genre))]),"Popular"!==e.genre&&"Trending"!==e.genre?n("h5",{staticClass:"list-genre",on:{click:e.showBeatsByGener}},[e._v(" See All ")]):e._e()]),n("beat-list",{attrs:{beats:e.beatsToShow}})],1):e._e()},x=[],S=(n("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e.beats?n("div",{staticClass:"main-list"},e._l(e.beats,(function(e){return n("beat-preview",{key:e._id,attrs:{beat:e}})})),1):e._e()])}),k=[],_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"prev-card flex col justify-center align-center icon",on:{click:function(t){return e.beatPrev(e.beat._id)}}},[n("div",{staticClass:"flex col prev-main-info-container"},[n("div",{staticClass:"beat-img flex align-center justify-center"},[n("img",{staticClass:"prev-img",attrs:{src:e.beat.imgUrl}})]),n("div",{staticClass:"prev-details flex col align-center justify-center"},[n("h2",{staticClass:"prev-name"},[e._v(e._s(e.beat.name))]),n("h3",{staticClass:"prev-genre"},[e._v(e._s(e.beat.genre))])])]),n("div",{staticClass:"prev-info-container flex space-around align-center"},[e._m(0),n("div",{staticClass:"flex"},[n("i",{staticClass:"prev-show fas fa-music"}),n("span",{staticClass:"prev-info"},[e._v(e._s(e.beat.songs.length)+" ")])]),n("div",{staticClass:"flex"},[n("i",{staticClass:"prev-show prev- fas fa-heart"}),n("span",{staticClass:"prev-info"},[e._v(" "+e._s(e.beat.likes))])])])])},O=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex"},[n("i",{staticClass:"prev-show prev-show fas fa-headphones-alt"}),n("span",{staticClass:"prev-info"},[e._v("25")])])}],R={props:["beat"],name:"beatPreview",methods:{beatPrev:function(e){this.$router.push("/beat/".concat(e))}}},j=R,$=Object(l["a"])(j,_,O,!1,null,null,null),B=$.exports,L={name:"beatList",props:{beats:Array},methods:{},components:{beatPreview:B},created:function(){}},U=L,P=Object(l["a"])(U,S,k,!1,null,null,null),E=P.exports,N={name:"beatHomeList",props:{beats:Array,genre:String},data:function(){return{}},computed:{beatsToShow:function(){var e=this;if("Popular"===this.genre){var t=JSON.parse(JSON.stringify(this.beats));t=t.sort((function(e,t){return e.likes>t.likes?-1:1}));for(var n=[],r=0;r<4;r++)n.push(t[r]);return n}if("Trending"===this.genre){t=JSON.parse(JSON.stringify(this.beats));t=t.sort((function(e,t){return e.visits>t.visits?1:-1}));for(n=[],r=0;r<4;r++)n.push(t[r]);return n}var s=this.beats.filter((function(t){return t.genre.toLowerCase()===e.genre.toLowerCase()}));return s}},methods:{showBeatsByGener:function(){this.$emit("filter",this.genre.toUpperCase()),this.$router.push("/beat")}},created:function(){},components:{beatList:E}},I=N,T=Object(l["a"])(I,C,x,!1,null,null,null),G=T.exports,F={name:"Home",methods:{dispatchFilter:function(e){this.$store.dispatch({type:"setGenreFilter",selectedGenre:e})},smoothScroll:function(e,t){e=document.getElementById(e);var n=e.getBoundingClientRect().top,r=window.pageYOffset,s=n-r,a=null;function i(e){null===a&&(a=e);var n=e-a,c=o(n,r,s,t);window.scrollTo(0,c),n<t&&requestAnimationFrame(i)}function o(e,t,n,r){return e/=r/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}requestAnimationFrame(i)}},computed:{beats:function(){return this.$store.getters.beats},genres:function(){return this.$store.getters.genres}},created:function(){this.$store.dispatch({type:"resetFilter"})},components:{beatHomeList:G}},A=F,M=Object(l["a"])(A,y,w,!1,null,null,null),J=M.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"main-layout"},[n("genre-filter",{staticClass:"flex align-center justify-center",on:{setGenre:e.setGenreFilter}}),n("beat-list",{attrs:{beats:e.beats}})],1)},D=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-radio-group",{staticClass:"beat-filter",on:{change:e.setGenreFilter},model:{value:e.selectedGenre,callback:function(t){e.selectedGenre=t},expression:"selectedGenre"}},[n("el-radio",{staticClass:"filter-btn",attrs:{value:"All",label:"ALL"}}),n("el-radio",{staticClass:"filter-btn",attrs:{value:"Easy",label:"EASY"}}),e._v(" --\x3e "),n("el-radio",{staticClass:"filter-btn",attrs:{value:"Hip Hop",label:"HIP HOP"}}),n("el-radio",{staticClass:"filter-btn",attrs:{value:"Israeli",label:"ISRAELI"}}),n("el-radio",{staticClass:"filter-btn",attrs:{value:"Dance",label:"DANCE"}}),n("el-radio",{staticClass:"filter-btn",attrs:{value:"Rock N Roll",label:"ROCK N ROLL"}}),n("el-radio",{staticClass:"filter-btn",attrs:{value:"Pop",label:"POP"}}),n("el-radio",{staticClass:"filter-btn",attrs:{value:"Latin",label:"LATIN"}})],1)],1)},W=[],K={props:{},data:function(){return{selectedGenre:""}},methods:{setGenreFilter:function(){var e=JSON.parse(JSON.stringify(this.selectedGenre));this.$emit("setGenre",e)}},created:function(){this.selectedGenre=this.$store.getters.filterBy.genreFilter,this.setGenreFilter()}},q=K,Y=Object(l["a"])(q,H,W,!1,null,null,null),z=Y.exports,Q={name:"beat",data:function(){return{}},methods:{setGenreFilter:function(e){this.$store.dispatch({type:"setGenreFilter",selectedGenre:e})}},components:{beatList:E,genreFilter:z},computed:{beats:function(){return this.$store.getters.beats},genreFilter:function(){return this.$store.getters.genres}},created:function(){this.$store.dispatch({type:"loadBeats"})}},X=Q,Z=Object(l["a"])(X,V,D,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.currBeat?n("section",{staticClass:"main-layout"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"main-details"},[n("beat-info",{staticClass:"beat-info-cmp",attrs:{currBeat:e.currBeat},on:{removeBeat:e.removeBeat,setLike:e.toggleLike}}),n("beatPlayer",{staticClass:"beat-player-cmp",attrs:{currSong:e.currSong},on:{switchSong:e.switchSong}}),n("searchSong",{staticClass:"searchSong-cmp",on:{setKeyWord:e.searchYoutubeSong}}),n("div",{staticClass:"flex"},[n("beatPlaylist",{staticClass:"beat-playerlist-cmp",attrs:{playlist:e.playlist,currSongId:e.currSong.id},on:{changeSong:e.changeSong,removeSong:e.removeSong,dragSong:e.dragSong}}),n("add-song",{attrs:{searchedSongs:e.searchedSongsForDisplay},on:{addSongToPlayList:e.addSongToPlayList}})],1)],1),e.beat?n("beatChat",{staticClass:"beat-chat-cmp",attrs:{beat:e.beat}}):e._e()],1)]):e._e()},ne=[],re=(n("c740"),n("96cf"),n("1da1")),se=(n("caad"),n("b0c0"),n("2532"),n("bc3a")),ae=n.n(se),ie=(n("99af"),"/api/"),oe=ae.a.create({withCredentials:!0}),ce={get:function(e,t){return ue(e,"GET",t)},post:function(e,t){return ue(e,"POST",t)},put:function(e,t){return ue(e,"PUT",t)},delete:function(e,t){return ue(e,"DELETE",t)}};function ue(e){return le.apply(this,arguments)}function le(){return le=Object(re["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"get",r=a.length>2&&void 0!==a[2]?a[2]:null,e.prev=2,e.next=5,oe({url:"".concat(ie).concat(t),method:n,data:r});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("errrr",e.t0),console.log("Had issues ".concat(n,"ing to server"),e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),le.apply(this,arguments)}var pe={query:de,getById:me,save:fe,removeBeat:he};function de(e){return ge.apply(this,arguments)}function ge(){return ge=Object(re["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.get("beat?genre=".concat(t.genreFilter));case 2:if(n=e.sent,""===t.beatTitle){e.next=8;break}return r=n.filter((function(e){return e.name.toLowerCase().includes(t.beatTitle)})),e.abrupt("return",r);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)}))),ge.apply(this,arguments)}function fe(e){return e._id?ce.put("beat/".concat(e._id),e):ce.post("beat",e)}function me(e){return ce.get("beat/".concat(e))}function he(e){return ce.delete("beat/".concat(e))}var ve,be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.currBeat?r("section",{key:this.isLiked,staticClass:"beat-info flex space-between"},[r("div",{staticClass:"beat-info-imgs flex"},[r("img",{staticClass:"prev-img-details",attrs:{src:e.currBeat.imgUrl}}),r("div",{staticClass:"user-profile flex col align-center justify-baseline"},[e.currBeat.createdBy.imgUrl?r("img",{staticClass:"profile-img",attrs:{src:e.currBeat.createdBy.imgUrl}}):r("img",{staticClass:"profile-img",attrs:{src:n("be3f")}}),r("span",[e._v(e._s(e.currBeat.createdBy.userName))])])]),r("div",{staticClass:"beat-desc flex col align-center"},[r("span",{staticClass:"beat-title"},[e._v(e._s(e.currBeat.name))]),r("span",{staticClass:"beat-genre"},[e._v(e._s(e.currBeat.genre))]),r("span",{staticClass:"beat-description"},[e._v(e._s(e.currBeat.description))])]),r("div",{staticClass:"views-container beat-desc flex col align-center space-around"},[r("span",{staticClass:"beat-likes"},[e._v(e._s(e.currBeat.visits)+" Visits ")]),e.currBeat.likes?r("div",{staticClass:"flex"},[e.isLiked?e._e():r("i",{staticClass:"like-btn icon far fa-heart",on:{click:function(t){return e.setLike(1)}}}),e.isLiked?r("i",{staticClass:"like-btn icon fas fa-heart",on:{click:function(t){return e.setLike(-1)}}}):e._e(),r("span",{staticClass:"beat-likes"},[e._v(e._s(e.currBeat.likes))])]):e._e(),e._m(0)])]):e._e()},ye=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"beat-online"},[n("i",{staticClass:" like-btn fas fa-headphones-alt"}),e._v(" 2 ")])}],we={props:{currBeat:Object},name:"beatInfo",data:function(){return{isLiked:!1}},computed:{likes:function(){return this.$store.getters.currBeat.likes}},methods:{emitDelete:function(e){this.$emit("removeBeat",e),this.$router.push("/beat")},setLike:function(e){console.log(e),this.$emit("setLike",e),this.isLiked=!this.isLiked}},created:function(){}},Ce=we,xe=Object(l["a"])(Ce,be,ye,!1,null,null,null),Se=xe.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.currSong?n("section",{staticClass:"beat-player flex"},[n("div",{staticClass:"beat-frame flex"},[n("div",{staticClass:"beat-img flex align-center"},[n("img",{staticClass:"prev-img",class:{playing:e.playerVars.isPlaying},attrs:{src:e.currSong.imgUrl}})]),n("youtube",{ref:"youtube",staticClass:"player",staticStyle:{visibility:"hidden"},attrs:{"video-id":e.currSong.youtubeId}})],1),n("div",{staticClass:"song-desc flex col "},[n("h2",[e._v(e._s(e.currSong.title))]),n("div",{staticClass:"player-btn flex icon align-center space-around"},[n("i",{staticClass:"fas fa-backward",on:{click:function(t){return e.switchSong(e.currSong.id,-1)}}}),e.playerVars.isPlaying?e._e():n("i",{staticClass:"fas fa-play",on:{click:e.playSong}}),e.playerVars.isPlaying?n("i",{staticClass:"fas fa-pause",on:{click:e.pauseSong}}):e._e(),n("i",{staticClass:"fas fa-forward",on:{click:function(t){return e.switchSong(e.currSong.id,1)}}}),n("i",{staticClass:"fas fa-random",class:{active:e.playerVars.isShuffle},on:{click:e.shuffle}}),n("i",{staticClass:"sound icon fas fa-volume-down",class:{active:!e.playerVars.isMuted},on:{click:e.muteSound}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.playerVars.vol,expression:"playerVars.vol"}],staticClass:"set-vol",attrs:{type:"range",min:"0",max:"100"},domProps:{value:e.playerVars.vol},on:{input:e.setVol,__r:function(t){return e.$set(e.playerVars,"vol",t.target.value)}}}),n("span",[e._v(e._s(e.playerVars.vol))])])])]):e._e()},_e=[],Oe={props:["currSong"],name:"beatPlayer",data:function(){return{playerVars:{vol:50,time:null,isMuted:!1,isPlaying:!1,isShuffle:!1}}},methods:{shuffle:function(){this.playerVars.isShuffle=!this.playerVars.isShuffle},switchSong:function(e){var t=arguments,n=this;return Object(re["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.length>1&&void 0!==t[1]?t[1]:0,r.next=3,n.$emit("switchSong",e,s,n.playerVars.isShuffle);case 3:case"end":return r.stop()}}),r)})))()},pauseSong:function(){this.$refs.youtube.player.pauseVideo(),this.playerVars.isPlaying=!1},playSong:function(){console.log("playvideo"),this.$refs.youtube.player.playVideo(),this.playerVars.isPlaying||(this.playerVars.isPlaying=!this.playerVars.isPlaying)},muteSound:function(){this.playerVars.isMuted?(this.$refs.youtube.player.unMute(),this.playerVars.isMuted=!1):(this.$refs.youtube.player.mute(),this.playerVars.isMuted=!0)},setVol:function(){this.$refs.youtube.player.setVolume(this.playerVars.vol)}},sockets:{songChanged:function(e){this.playSong()}},created:function(){},mounted:function(){this.currSong&&this.playSong()},destroyed:function(){}},Re=Oe,je=Object(l["a"])(Re,ke,_e,!1,null,null,null),$e=je.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("draggable",{attrs:{"ghost-class":"ghost"},on:{end:e.onEnd},model:{value:e.songList,callback:function(t){e.songList=t},expression:"songList"}},[n("transition-group",{attrs:{type:"transition",name:"flip-list"}},e._l(e.songs,(function(t){return n("div",{key:t.id,staticClass:"song-container sortable flex space-between align-center icon",class:{active:t.id===e.currSongId},attrs:{id:t.id},on:{click:function(n){return e.changeSong(t)}}},[n("img",{staticClass:"song-img",attrs:{src:t.imgUrl}}),n("span",{staticClass:"song-title"},[e._v(e._s(t.title))]),n("div",{staticClass:"flex align-center"},[n("span",{staticClass:"song-dur"},[e._v(e._s(t.duration))]),n("i",{staticClass:"song-icon fas fa-sort"}),n("i",{staticClass:"song-icon icon fas fa-trash",on:{click:function(n){return n.preventDefault(),e.removeSong(t.id)}}})])])})),0)],1)],1)},Le=[],Ue=n("b76a"),Pe=n.n(Ue),Ee={props:{playlist:Array,currSongId:String},name:"playlist",data:function(){return{songList:null,oldIndex:"",newIndex:""}},computed:{songs:function(){return JSON.parse(JSON.stringify(this.playlist))}},methods:{onEnd:function(e){this.oldIndex=e.oldIndex,this.newIndex=e.newIndex,this.$emit("dragSong",this.songList)},removeSong:function(e){this.$emit("removeSong",e)},changeSong:function(e){this.$emit("changeSong",e),console.log(e),console.log("playing********************************")}},created:function(){this.songList=JSON.parse(JSON.stringify(this.playlist))},components:{draggable:Pe.a}},Ne=Ee,Ie=Object(l["a"])(Ne,Be,Le,!1,null,null,null),Te=Ie.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"beat-chat flex col space-between"},[n("ul",{staticClass:"beat-msg"},e._l(e.msgs,(function(t,r){return n("li",{key:r},[e._v(" "+e._s(t.from)+": "+e._s(t.txt)+" ")])})),0),e.isTyping?n("h4",[e._v(e._s(e.userNowTyping))]):e._e(),n("div",{staticClass:"send-container flex space-between"},[n("i",{staticClass:"send-btn icon fas fa-paper-plane",on:{click:e.sendMsg}}),n("form",{on:{submit:function(t){return t.preventDefault(),e.sendMsg(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],staticClass:"send-msg",attrs:{type:"text"},domProps:{value:e.msg.txt},on:{input:[function(t){t.target.composing||e.$set(e.msg,"txt",t.target.value)},e.userTyping]}})]),n("beat-emoji")],1)])},Fe=[],Ae=n("ade3"),Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("i",{staticClass:"send-btn icon far fa-smile",on:{click:function(t){return e.toggleEmojiPicker()}}}),e.isEmoji?n("div",{staticClass:"emoji-container flex wrap space-evenly"},e._l(e.emojis,(function(t){return n("li",{key:t.id,class:t.class,on:{click:function(t){return e.onEmoji(t)}}})})),0):e._e()])},Je=[],Ve={name:"emojiPicker",data:function(){return{emojis:[{id:1,class:"far fa-smile"},{id:2,class:"far fa-smile-wink"},{id:3,class:"far fa-grin-stars"},{id:4,class:"far fa-grin-squint-tears"},{id:5,class:"far fa-dizzy"},{id:6,class:"far fa-grin-tongue-squint"},{id:7,class:"far fa-kiss-wink-heart"},{id:8,class:"far fa-meh-rolling-eyes"},{id:9,class:"far fa-sad-cry"},{id:10,class:"far fa-angry"},{id:11,class:"far fa-thumbs-up"},{id:12,class:"far fa-thumbs-down"},{id:13,class:"far fa-hand-peace"},{id:14,class:"fas fa-glass-cheers"},{id:15,class:"fas fa-praying-hands"},{id:16,class:"fas fa-volume-up"},{id:17,class:"fas fa-volume-mute"},{id:18,class:"fas fa-music"},{id:19,class:"fas fa-backward"},{id:20,class:"fas fa-forward"},{id:21,class:"fas fa-random"}],isEmoji:!1}},methods:{onEmoji:function(e){console.log(e.target),this.toggleEmojiPicker()},toggleEmojiPicker:function(){this.isEmoji=!this.isEmoji}}},De=Ve,He=Object(l["a"])(De,Me,Je,!1,null,null,null),We=He.exports,Ke={props:{beat:Object},name:"beatChat",data:function(){return{msg:{from:"",txt:""},msgs:[],topic:"",isTyping:!1,userNowTyping:""}},computed:{},methods:(ve={addMsg:function(e){this.msgs.push(e)},sendMsg:function(){this.$store.getters.loggedinUser?this.msg.from=this.$store.getters.loggedinUser.username:this.msg.from="Guest",this.$socket.emit("sendMsg",this.msg),this.msg.txt=""}},Object(Ae["a"])(ve,"addMsg",(function(e){this.msgs.push(e)})),Object(Ae["a"])(ve,"userTyping",(function(){var e=this.$store.getters.loggedinUser;e?this.$socket.emit("userTyping",e):this.$socket.emit("userTyping","Guest")})),Object(Ae["a"])(ve,"typing",(function(e){var t=this;console.log(e),this.isTyping=!0,e.username?this.userNowTyping=e.username+" is typing..":this.userNowTyping="Guest is typing...",setTimeout((function(){t.userNowTyping="",t.isTyping=!1}),2e3)})),Object(Ae["a"])(ve,"sockets",{sentMsg:function(e){this.addMsg(e)},userTyping:function(e){this.typing(e)}}),ve),created:function(){},components:{beatEmoji:We}},qe=Ke,Ye=Object(l["a"])(qe,Ge,Fe,!1,null,null,null),ze=Ye.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.searchedSongs?n("section",{staticClass:"beat-add add-container"},e._l(e.searchedSongs,(function(t){return n("div",{key:t.id},[n("div",{staticClass:"song-container flex align-center space-between icon"},[n("img",{staticClass:"song-img",attrs:{src:t.imgUrl}}),n("h5",{staticClass:"song-title"},[e._v(e._s(t.title))]),n("div",{staticClass:"flex"},[n("h5",{staticClass:"song-dur"},[e._v(e._s(t.duration))]),n("i",{staticClass:"song-icon fas fa-plus",on:{click:function(n){return e.addSongToPlayList(t)}}})])])])})),0):e._e()},Xe=[],Ze={name:"addSong",props:{searchedSongs:Array},data:function(){return{}},computed:{},methods:{addSongToPlayList:function(e){this.$emit("addSongToPlayList",e)}},created:function(){}},et=Ze,tt=Object(l["a"])(et,Qe,Xe,!1,null,null,null),nt=tt.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex align-center"},[n("el-input",{staticClass:"search-new-songs",attrs:{type:"text",placeholder:"Add song to playlist","prefix-icon":"el-icon-search"},on:{input:e.searchYoutubeSong},model:{value:e.searchKeyWord,callback:function(t){e.searchKeyWord=t},expression:"searchKeyWord"}}),n("i",{staticClass:"clean-search fas fa-backspace",on:{click:e.cleanSearch}})],1)},st=[],at={name:"addSong",props:{searchedSongs:Array},data:function(){return{searchKeyWord:"",isSearch:!1}},computed:{},methods:{toggleSearch:function(){this.isSearch=!this.isSearch},searchYoutubeSong:function(){var e=this;return Object(re["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.searchKeyWord?e.$emit("setKeyWord",e.searchKeyWord):e.$emit("setKeyWord",!1);case 1:case"end":return t.stop()}}),t)})))()},cleanSearch:function(){this.searchKeyWord="",this.searchYoutubeSong()}}},it=at,ot=Object(l["a"])(it,rt,st,!1,null,null,null),ct=ot.exports,ut={name:"beatDetails",data:function(){return{beat:null}},computed:{currBeat:function(){if(this.beat)return this.$store.getters.currBeat},currSong:function(){if(this.beat)return this.$store.getters.currSong},playlist:function(){if(this.beat)return this.$store.getters.currBeat.songs},currLikes:function(){if(this.beat)return this.$store.getters.currSong.likes},searchedSongsForDisplay:function(){if(this.beat)return this.$store.getters.searchedSongsForDisplay}},methods:{switchSong:function(e,t,n){var r;if(n){var s=this.beat.songs.length-1,a=Math.floor(Math.random()*Math.floor(s));r=this.beat.songs[a]}else{var i=this.beat.songs.findIndex((function(t){return t.id===e}));0===i&&-1===t?i=this.beat.songs.length-1:i===this.beat.songs.length-1&&1===t?i=0:i+=t,r=this.beat.songs[i]}this.$socket.emit("songChanged",r)},changeSong:function(e){this.$socket.emit("songChanged",e)},dragSong:function(e){var t=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch({type:"dragSong",songs:e});case 2:t.$socket.emit("beatChanged",t.currBeat);case 3:case"end":return n.stop()}}),n)})))()},removeSong:function(e){var t=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch({type:"removeSong",songId:e});case 2:t.$socket.emit("beatChanged",t.currBeat);case 3:case"end":return n.stop()}}),n)})))()},removeBeat:function(e){var t=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch({type:"removeBeat",beatId:e});case 2:case"end":return n.stop()}}),n)})))()},searchYoutubeSong:function(e){var t=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$store.dispatch({type:"searchSong",keyWord:e});case 1:case"end":return n.stop()}}),n)})))()},addSongToPlayList:function(e){var t=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch({type:"addSong",song:e});case 2:t.$socket.emit("beatChanged",t.currBeat);case 3:case"end":return n.stop()}}),n)})))()},toggleLike:function(e){var t=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=JSON.parse(JSON.stringify(t.currBeat)),n.next=3,t.$store.dispatch({type:"addLike",beat:r,diff:e});case 3:t.$socket.emit("beatChanged",t.currBeat);case 4:case"end":return n.stop()}}),n)})))()},setCurrBeat:function(e){var t=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$store.dispatch({type:"setCurrBeat",beat:e});case 1:case"end":return n.stop()}}),n)})))()},setCurrSong:function(e){var t=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch({type:"setCurrSong",song:e});case 2:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;return Object(re["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.id,t.next=3,pe.getById(n);case 3:r=t.sent,e.beat=JSON.parse(JSON.stringify(r)),console.log("beat",r),e.$socket.emit("joinRoom",e.beat._id),e.setCurrBeat(r),console.log("beatdetails created"),e.setCurrSong(e.beat.songs[0]);case 10:case"end":return t.stop()}}),t)})))()},sockets:{beatChanged:function(e){this.setCurrBeat(e)},songChanged:function(e){console.log("ssssss"),this.setCurrSong(e)}},components:{beatInfo:Se,beatPlayer:$e,beatPlaylist:Te,beatChat:ze,addSong:nt,searchSong:ct}},lt=ut,pt=Object(l["a"])(lt,te,ne,!1,null,null,null),dt=pt.exports,gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"beat-add main-layout"},[n("div",{staticClass:"beat-add-container flex space-evenly align-center"},[n("div",{staticClass:"upload-img flex justify-center"},[n("upload-img",{on:{getImgUrl:e.setImgUrl}})],1),n("div",{staticClass:"upload-info flex col justify-center align-center"},[n("el-input",{staticClass:"add-input",attrs:{type:"text",placeholder:"Beat name"},model:{value:e.beat.name,callback:function(t){e.$set(e.beat,"name",t)},expression:"beat.name"}}),n("el-input",{staticClass:"add-input",attrs:{type:"textarea",rows:2,placeholder:"Description",value:e.beat.description},model:{value:e.beat.description,callback:function(t){e.$set(e.beat,"description",t)},expression:"beat.description"}})],1),n("div",{staticClass:"flex col"},[n("div",{staticClass:"btns-add flex space-between"},[n("a",{staticClass:"filter-btn icon",attrs:{round:""},on:{click:e.saveBeat}},[e._v("Create")]),n("a",{staticClass:"filter-btn icon",on:{click:e.back}},[e._v("Back")])]),n("div",[n("genere-select",{staticClass:"genre-select",attrs:{genres:e.genreSelectOpts},on:{setGenre:e.setGenre}})],1)])])])},ft=[],mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{placeholder:"genre"},on:{change:e.setGenre},model:{value:e.selectedGenre,callback:function(t){e.selectedGenre=t},expression:"selectedGenre"}},e._l(e.genres,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)},ht=[],vt={props:{genres:Array},data:function(){return{selectedGenre:""}},methods:{setGenre:function(){this.$emit("setGenre",this.selectedGenre)}},created:function(){}},bt=vt,yt=Object(l["a"])(bt,mt,ht,!1,null,null,null),wt=yt.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.isLoading||e.imgUrl?e._e():n("section",[e._m(0),n("input",{staticClass:"img-upload",attrs:{type:"file",name:"img-uploader",id:"imgUploader"},on:{change:e.onUploadImg}})]),e.isLoading&&!e.imgUrl?n("img",{staticClass:"loader",attrs:{src:"https://i.pinimg.com/originals/65/ba/48/65ba488626025cff82f091336fbf94bb.gif",alt:""}}):e._e(),!e.isLoading&&e.imgUrl?n("img",{staticClass:"img-uploaded",attrs:{src:e.imgUrl}}):e._e()])},xt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"imgUploader"}},[n("i",{staticClass:"img-icon icon fas fa-camera"})])}],St=function(){var e=Object(re["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="bluebeat",r="bluebeat",s="https://api.cloudinary.com/v1_1/".concat(r,"/image/upload"),a=new FormData,a.append("file",t.target.files[0]),a.append("upload_preset",n),e.prev=6,e.next=9,ae.a.post(s,a);case 9:return i=e.sent,e.abrupt("return",i.data);case 13:e.prev=13,e.t0=e["catch"](6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),kt={data:function(){return{isLoading:!1,imgUrl:null}},methods:{onUploadImg:function(e){var t=this;return Object(re["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.next=3,St(e);case 3:r=n.sent,t.imgUrl=r.url,t.$emit("getImgUrl",r.url),t.isLoading=!1;case 7:case"end":return n.stop()}}),n)})))()}}},_t=kt,Ot=(n("15f0"),Object(l["a"])(_t,Ct,xt,!1,null,null,null)),Rt=Ot.exports,jt={getEmpty:$t,makeId:Bt};function $t(){return{visits:0,likes:0,name:"",description:"",imgUrl:"https://res.cloudinary.com/bluebeat/image/upload/v1606685267/bluebeat/srdn8qp7cpwx3ywieq2n.png",tags:["love","happy"],genre:"",createdBy:{userName:"Dennis",imgUrl:"",id:"123"},songs:[]}}function Bt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="_",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var Lt,Ut={name:"beatAdd",data:function(){return{beat:null,msg:"",genreSelectOpts:[{value:"HIP HOP",label:"Hip Hop"},{value:"ISRAELI",label:"Isreali"},{value:"DANCE",label:"Dance"},{value:"POP",label:"Pop"},{value:"ROCK N ROLL",label:"Rock N Roll"},{value:"LATIN",label:"Latin"},{value:"EASY",label:"Easy"}]}},created:function(){this.beat=jt.getEmpty()},computed:{},methods:{back:function(){this.$router.go(-1)},saveBeat:function(){var e=this;return Object(re["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"addBeat",beat:e.beat});case 2:n=t.sent,e.$router.push("/beat/".concat(n._id));case 4:case"end":return t.stop()}}),t)})))()},setImgUrl:function(e){this.beat.imgUrl=e},setGenre:function(e){this.beat.genre=e}},components:{genereSelect:wt,uploadImg:Rt}},Pt=Ut,Et=Object(l["a"])(Pt,gt,ft,!1,null,null,null),Nt=Et.exports,It=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"main-layout login-page flex justify-center align-center"},[e.registeredUser?n("form",{staticClass:"login-form flex justify-center align-center col",on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[n("h3",[e._v("Email:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.email,expression:"userCred.email"}],staticClass:"login-input icon",attrs:{type:"email",placeholder:"Email"},domProps:{value:e.userCred.email},on:{input:function(t){t.target.composing||e.$set(e.userCred,"email",t.target.value)}}}),n("h3",[e._v("Username:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.username,expression:"userCred.username"}],staticClass:"login-input icon",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.userCred.username},on:{input:function(t){t.target.composing||e.$set(e.userCred,"username",t.target.value)}}}),n("h3",[e._v("Password:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.password,expression:"userCred.password"}],staticClass:"login-input icon",attrs:{type:"text",placeholder:"Password"},domProps:{value:e.userCred.password},on:{input:function(t){t.target.composing||e.$set(e.userCred,"password",t.target.value)}}}),n("button",{staticClass:"login-btn"},[e._v("Login")])]):n("form",{staticClass:"login-form flex justify-center align-center col",on:{submit:function(t){return t.preventDefault(),e.signupUser(t)}}},[n("h3",[e._v("Email:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.email,expression:"userCred.email"}],staticClass:"login-input icon",attrs:{type:"email",placeholder:"Email"},domProps:{value:e.userCred.email},on:{input:function(t){t.target.composing||e.$set(e.userCred,"email",t.target.value)}}}),n("h3",[e._v("Username:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.username,expression:"userCred.username"}],staticClass:"login-input icon",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.userCred.username},on:{input:function(t){t.target.composing||e.$set(e.userCred,"username",t.target.value)}}}),n("h3",[e._v("Password:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.password,expression:"userCred.password"}],staticClass:"login-input icon",attrs:{type:"text",placeholder:"Password"},domProps:{value:e.userCred.password},on:{input:function(t){t.target.composing||e.$set(e.userCred,"password",t.target.value)}}}),n("button",{staticClass:"login-btn"},[e._v("Signup")])])])},Tt=[],Gt=(Lt={name:"beat",data:function(){return{registeredUser:null,userCred:{username:"",email:"",password:null}}},computed:{},methods:{loginUser:function(){console.log(this.userCred),this.$store.dispatch({type:"login",userCred:this.userCred}),this.$router.push("/")},signupUser:function(){this.$store.dispatch({type:"signup",userCred:this.userCred}),this.$router.push("/")}},components:{}},Object(Ae["a"])(Lt,"computed",{}),Object(Ae["a"])(Lt,"created",(function(){this.registeredUser=this.$store.getters.isRegistered})),Lt),Ft=Gt,At=Object(l["a"])(Ft,It,Tt,!1,null,null,null),Mt=At.exports;r["default"].use(b["a"]);var Jt=[{path:"/",name:"Home",component:J},{path:"/beat",name:"beatApp",component:ee},{path:"/beat/add",name:"beatAdd",component:Nt},{path:"/beat/:id?",name:"beatDetails",component:dt},{path:"/login",name:"beatLogin",component:Mt}],Vt=new b["a"]({mode:"history",base:"/",routes:Jt}),Dt=Vt,Ht=n("2f62"),Wt=(n("a434"),{removeSong:Yt,addSong:Qt,saveSongs:Kt});function Kt(e,t){return qt.apply(this,arguments)}function qt(){return qt=Object(re["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=JSON.parse(JSON.stringify(t)),r.songs=n,e.next=4,pe.save(r);case 4:case"end":return e.stop()}}),e)}))),qt.apply(this,arguments)}function Yt(e,t){return zt.apply(this,arguments)}function zt(){return zt=Object(re["a"])(regeneratorRuntime.mark((function e(t,n){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=JSON.parse(JSON.stringify(n)),s=r.songs.findIndex((function(e){return e.id===t})),r.songs.splice(s,1),e.next=5,pe.save(r);case 5:case"end":return e.stop()}}),e)}))),zt.apply(this,arguments)}function Qt(e,t){return Xt.apply(this,arguments)}function Xt(){return Xt=Object(re["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=JSON.parse(JSON.stringify(n)),r.songs.push(t),e.next=4,pe.save(r);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),Xt.apply(this,arguments)}n("4160"),n("d81d"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("159b"),n("ddb0");var Zt="AIzaSyAp1nnIj8TN5e1gRHAi8hfr7jQJTdlsbfI",en={getSong:tn};function tn(e){return nn.apply(this,arguments)}function nn(){return nn=Object(re["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return n="https://youtube.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=5&q=".concat(t,"&key=").concat(Zt),e.prev=3,e.next=6,ae.a.get(n);case 6:return r=e.sent,e.next=9,r.data.items.map((function(e){return e.id.videoId}));case 9:return s=e.sent,e.next=12,rn(s);case 12:return a=e.sent,e.next=15,an(a);case 15:return i=e.sent,e.abrupt("return",i);case 19:e.prev=19,e.t0=e["catch"](3),console.log("err");case 22:case"end":return e.stop()}}),e,null,[[3,19]])}))),nn.apply(this,arguments)}function rn(e){return sn.apply(this,arguments)}function sn(){return sn=Object(re["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],t.forEach(function(){var e=Object(re["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r="https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=".concat(t,"&key=").concat(Zt),n.push(ae.a.get(r).then((function(e){return new Promise((function(t){return t(e.data.items[0])}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),sn.apply(this,arguments)}function an(e){return on.apply(this,arguments)}function on(){return on=Object(re["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],t.forEach(function(){var e=Object(re["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={id:jt.makeId(),youtubeId:t.id,title:cn(t.snippet.title),imgUrl:t.snippet.thumbnails.medium.url,duration:un(t.contentDetails.duration)},e.next=3,n.push(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),on.apply(this,arguments)}function cn(e){e=e.replace("(","");var t=e.replace(")",""),n=t.replace("Official Video","");return n}function un(e){var t=e.replace("PT",""),n=t.replace("M",":"),r=n.replace("S","");return r}var ln={state:{beats:null,filterBy:{genreFilter:"ALL",beatTitle:""},genres:["Popular","Trending","Hip hop","Israeli","Dance","Pop","Rock n roll","Latin","Easy"],currBeat:null,currSong:null,searchedSongs:null},getters:{currSong:function(e){var t=e.currSong;return JSON.parse(JSON.stringify(t))},searchedSongsForDisplay:function(e){var t=e.searchedSongs;return t},beats:function(e){var t=e.beats;return JSON.parse(JSON.stringify(t))},currBeat:function(e){var t=e.currBeat;return JSON.parse(JSON.stringify(t))},genres:function(e){var t=e.genres;return t},filterBy:function(e){var t=e.filterBy;return t}},mutations:{setCurrSong:function(e,t){var n=t.song;e.currSong=n},addSong:function(e,t){var n=e.currBeat,r=t.newSong;n.songs.push(r)},removeSong:function(e,t){var n=e.currBeat,r=t.songId,s=n.songs.findIndex((function(e){return e.id===r}));n.songs.splice(s,1)},dragSong:function(e,t){var n=e.currBeat,r=t.songs;n.songs=r},setSearchedSongs:function(e,t){var n=t.searchedSongs;e.searchedSongs=n},setCurrBeat:function(e,t){var n=t.currBeat;e.currBeat=n},loadBeats:function(e,t){var n=t.beats;e.beats=n},removeBeat:function(e,t){var n=e.beats,r=t.beatId,s=n.findIndex((function(e){return e._id===r}));n.splice(s,1)},editBeat:function(e,t){var n=e.beats,r=(e.currBeat,t.beat),s=n.findIndex((function(e){return r._id===e._id}));n.splice(s,1,r)},addBeat:function(e,t){var n=e.beats,r=t.beat;n.unshift(r)},setGenreFilter:function(e,t){var n=e.filterBy,r=t.selectedGenre;n.genreFilter=r},setTxtFilter:function(e,t){var n=e.filterBy,r=t.txt;n.beatTitle=r},resetFilter:function(e){var t=e.filterBy;e.beats;t.genreFilter="ALL",t.beatTitle=""},setLike:function(e,t){var n=t.addLikedBeat;e.currBeat=n}},actions:{dragSong:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=e.state,a=t.songs,n.next=4,Wt.saveSongs(s.currBeat,a);case 4:r({type:"dragSong",songs:a});case 5:case"end":return n.stop()}}),n)})))()},removeSong:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=e.state,a=t.songId,n.next=4,Wt.removeSong(a,s.currBeat);case 4:r({type:"removeSong",songId:a});case 5:case"end":return n.stop()}}),n)})))()},searchSong:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.keyWord,n.next=4,en.getSong(s);case 4:a=n.sent,r({type:"setSearchedSongs",searchedSongs:a});case 6:case"end":return n.stop()}}),n)})))()},addSong:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=e.state,a=t.song,n.next=4,Wt.addSong(a,s.currBeat);case 4:i=n.sent,r({type:"addSong",newSong:i});case 6:case"end":return n.stop()}}),n)})))()},setCurrSong:function(e,t){var n=e.commit,r=t.song;n({type:"setCurrSong",song:r})},setCurrBeat:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.beat,s.visits+=1,n.next=5,pe.save(s);case 5:a=n.sent,r({type:"setCurrBeat",currBeat:a});case 7:case"end":return n.stop()}}),n)})))()},loadBeats:function(e){return Object(re["a"])(regeneratorRuntime.mark((function t(){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,r=e.commit,t.next=3,pe.query(n.filterBy);case 3:s=t.sent,r({type:"loadBeats",beats:s});case 5:case"end":return t.stop()}}),t)})))()},removeBeat:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.beatId,n.next=4,pe.removeBeat(s);case 4:r({type:"removeBeat",beatId:s});case 5:case"end":return n.stop()}}),n)})))()},editBeat:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.beat,n.next=4,pe.save(s);case 4:a=n.sent,r({type:"editBeat",beat:a});case 6:case"end":return n.stop()}}),n)})))()},addBeat:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.beat,n.next=4,pe.save(s);case 4:return a=n.sent,r({type:"addBeat",beat:a}),r({type:"setCurrBeat",beat:a}),n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))()},setGenreFilter:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=e.dispatch,a=t.selectedGenre,n.next=4,r({type:"setGenreFilter",selectedGenre:a});case 4:s("loadBeats");case 5:case"end":return n.stop()}}),n)})))()},setTxtFilter:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=e.dispatch,a=t.txt,n.next=4,r({type:"setTxtFilter",txt:a});case 4:s("loadBeats");case 5:case"end":return n.stop()}}),n)})))()},resetFilter:function(e){return Object(re["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.next=3,n({type:"resetFilter"});case 3:try{r("loadBeats")}catch(s){console.log(s)}case 4:case"end":return t.stop()}}),t)})))()},addLike:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.beat,a=t.diff,s.likes+=a,n.next=5,pe.save(s);case 5:return i=n.sent,n.next=8,r({type:"setLike",addLikedBeat:i});case 8:case"end":return n.stop()}}),n)})))()}}},pn={login:dn,logout:hn,signup:fn};function dn(e){return gn.apply(this,arguments)}function gn(){return gn=Object(re["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.post("auth/login",t);case 2:return n=e.sent,e.abrupt("return",bn(n));case 4:case"end":return e.stop()}}),e)}))),gn.apply(this,arguments)}function fn(e){return mn.apply(this,arguments)}function mn(){return mn=Object(re["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.post("auth/signup",t);case 2:return n=e.sent,e.abrupt("return",bn(n));case 4:case"end":return e.stop()}}),e)}))),mn.apply(this,arguments)}function hn(){return vn.apply(this,arguments)}function vn(){return vn=Object(re["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),vn.apply(this,arguments)}function bn(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var yn=null;sessionStorage.user&&(yn=JSON.parse(sessionStorage.user));var wn={state:{loggedinUser:yn,isRegisteredUser:null},getters:{loggedinUser:function(e){return e.loggedinUser},isRegistered:function(e){return console.log("isRegisteredUser",e.isRegisteredUser),e.isRegisteredUser}},mutations:{setUser:function(e,t){var n=t.user;e.loggedinUser=n},logUser:function(e,t){var n=t.registeredUser;console.log("isRegistered",n),e.isRegisteredUser=n},signUser:function(e,t){var n=t.registeredUser;console.log("isRegistered",n),e.isRegisteredUser=n}},actions:{login:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.userCred,n.next=3,pn.login(r);case 3:return s=n.sent,console.log("user",s),e.commit({type:"setUser",user:s}),n.abrupt("return",s);case 7:case"end":return n.stop()}}),n)})))()},signup:function(e,t){return Object(re["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.userCred,n.next=3,pn.signup(r);case 3:return s=n.sent,e.commit({type:"setUser",user:s}),n.abrupt("return",s);case 6:case"end":return n.stop()}}),n)})))()},logout:function(e){return Object(re["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pn.logout();case 2:e.commit({type:"setUser",user:null});case 3:case"end":return t.stop()}}),t)})))()},logUser:function(e,t){var n=e.commit,r=t.registeredUser;n({type:"logUser",registeredUser:r})},signUser:function(e,t){var n=e.commit,r=t.registeredUser;n({type:"signUser",registeredUser:r})}}},Cn=n("e0ec"),xn=n.n(Cn);r["default"].use(xn.a),r["default"].use(Ht["a"]);var Sn=new Ht["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{beatStore:ln,userStore:wn}}),kn=n("5c96"),_n=n.n(kn),On=(n("0fae"),n("5132")),Rn=n.n(On);n("fb98");r["default"].config.productionTip=!1;var jn="/";r["default"].use(_n.a),r["default"].use(new Rn.a({debug:!0,connection:jn})),new r["default"]({router:Dt,store:Sn,render:function(e){return e(h)}}).$mount("#app")},9760:function(e,t,n){},be3f:function(e,t,n){e.exports=n.p+"img/default-guest.898f0d17.jpg"},da94:function(e,t,n){e.exports=n.p+"img/bluebeatHero.d6d6d241.jpg"},fb98:function(e,t,n){}});
//# sourceMappingURL=app.03887e99.js.map